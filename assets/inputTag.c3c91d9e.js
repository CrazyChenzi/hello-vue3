import{d as e,q as s,k as a,r as l,o as t,b as u,F as n,f as o,g as p,t as r,z as d,A as v,h as i,w as c,e as g}from"./vendor.1df36bc3.js";var f,y;(y=f||(f={})).REPEAT="repeat",y.VALIDATE="validate";var w=e({props:{type:{type:String,default:""},placeholder:{type:String,default:"请输入..."},readonly:{type:Boolean,default:!1},value:{type:Array,default:()=>[]},width:{type:Number,default:300},isReplaceRepeat:{type:Boolean,default:!1},validate:{type:[RegExp,Function],default:()=>{}}},setup({value:e,validate:l,isReplaceRepeat:t,readonly:u},{emit:n}){const o=s(""),p=s(""),r=a([...e]),d=s(!1),v=s(null),i=()=>{if(console.log(o.value),o.value){if(l){if(!c())return void(p.value!==o.value&&(n("message",{status:f.VALIDATE,tag:o.value}),p.value=o.value))}if(t&&r.length){if(r.find((e=>e===o.value)))return void(p.value!==o.value&&(n("message",{status:f.REPEAT,tag:o.value}),p.value=o.value))}r.push(o.value),o.value="",p.value="",g()}},c=()=>"function"==typeof l?l(o.value):l.test(o.value),g=()=>{n("input",r)};return{newTag:o,previousTag:p,innerTags:r,isInputActive:d,input_tag_ref:v,addNew:i,handleInputFocus:()=>{d.value=!0},handleInputBlur:()=>{d.value=!1,i()},focusNewTag:()=>{var e;u||null==(e=v.value)||e.focus()},removeTag:(e,s)=>{r.splice(s,1),g()},removeLastTag:()=>{o.value||p.value?o.value||(p.value=""):(r.pop(),g())}}}});const T=c(),h=T(((e,s,a,c,g,f)=>{const y=l("el-tag"),w=l("el-input");return t(),u("div",{class:[{"input-tag_wrapper--readonly":e.readonly,"input-tag_wrapper--active":e.isInputActive},"input-tag_wrapper"],style:{width:e.width+"px"},onClick:s[2]||(s[2]=(...s)=>e.focusNewTag&&e.focusNewTag(...s))},[(t(!0),u(n,null,o(e.innerTags,((s,a)=>(t(),u(y,{key:a,class:"input-tag",closable:!e.readonly,type:e.type,onClose:l=>e.removeTag(s,a)},{default:T((()=>[p(r(s),1)])),_:2},1032,["closable","type","onClose"])))),128)),e.readonly?i("",!0):(t(),u(w,{key:0,ref:"input_tag_ref",modelValue:e.newTag,"onUpdate:modelValue":s[1]||(s[1]=s=>e.newTag=s),class:"new-tag",placeholder:e.placeholder,"validate-event":!1,onKeyup:[d(v(e.addNew,["stop"]),["enter"]),d(v(e.removeLastTag,["stop"]),["delete"])],onBlur:e.handleInputBlur,onFocus:e.handleInputFocus},null,8,["modelValue","placeholder","onKeyup","onBlur","onFocus"]))],6)}));w.render=h,w.__scopeId="data-v-b180e24c";var m=e({expose:[],setup(e){const s=["ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss","1223"],a=/^[a-zA-Z]+$/,l=e=>{console.log(e)},o=e=>{console.log(e)};return(e,p)=>(t(),u(n,null,[g(w,{onInput:l,onMessage:o,validate:a,isReplaceRepeat:""}),g(w,{value:s,readonly:"",type:"warning",width:500})],64))}});export default m;
